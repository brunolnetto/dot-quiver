{
    "name": "test_workflow",
    "description": "Workflow para rodar testes sobre a aplicação",
    "blueprint_spec": {
        "lanes": [
            {
                "id": "1",
                "name": "the_only_lane",
                "rule": [
                    "fn",
                    [
                        "&",
                        "args"
                    ],
                    true
                ]
            }
        ],
        "nodes": [
            {
                "id": "1",
                "name": "Start node",
                "next": "2",
                "type": "Start",
                "lane_id": "1",
                "parameters": {
                    "input_schema": {}
                }
            },
            {
                "id": "2",
                "name": "User Task",
                "next": "3",
                "type": "UserTask",
                "lane_id": "1",
                "parameters": {
                    "input": {
                        "dates": {
                            "$ref": "bag.dates"
                        },
                        "uuids": {
                            "$ref": "bag.uuids"
                        }
                    },
                    "action": "do something"
                }
            },
            {
                "id": "3",
                "name": "Set To Bag Task",
                "next": "4",
                "type": "SystemTask",
                "lane_id": "1",
                "category": "SetToBag",
                "parameters": {
                    "input": {
                        "n_js": {
                            "$ref": "result.n_js"
                        },
                        "keyword": {
                            "$ref": "result.keyword"
                        },
                        "n_interp": {
                            "$ref": "result.n_interp"
                        }
                    }
                }
            },
            {
                "id": "4",
                "name": "Scripted Task",
                "next": "5",
                "type": "ScriptTask",
                "lane_id": "1",
                "parameters": {
                    "input": {
                        "n_interp": {
                            "$ref": "bag.n_interp"
                        }
                    },
                    "script": {
                        "type": "js",
                        "package": "test_workflow_package",
                        "function": "lisp_test_task"
                    }
                }
            },
            {
                "id": "5",
                "name": "Set To Bag Task",
                "next": "6",
                "type": "SystemTask",
                "lane_id": "1",
                "category": "SetToBag",
                "parameters": {
                    "input": {
                        "dates": {
                            "$ref": "result.dates"
                        }
                    }
                }
            },
            {
                "id": "6",
                "name": "JS task node",
                "next": "7",
                "type": "SystemTask",
                "lane_id": "1",
                "category": "JsTestTask",
                "parameters": {
                    "input": {
                        "n_js": {
                            "$ref": "bag.n_js"
                        }
                    }
                }
            },
            {
                "id": "7",
                "name": "Set To Bag Task",
                "next": "8",
                "type": "SystemTask",
                "lane_id": "1",
                "category": "SetToBag",
                "parameters": {
                    "input": {
                        "uuids": {
                            "$ref": "result.uuids"
                        }
                    }
                }
            },
            {
                "id": "8",
                "name": "Flow node",
                "next": {
                    "end": "9",
                    "default": "2"
                },
                "type": "Flow",
                "lane_id": "1",
                "parameters": {
                    "input": {
                        "keyword": {
                            "$ref": "bag.keyword"
                        }
                    }
                }
            },
            {
                "id": "9",
                "name": "Finish node",
                "next": null,
                "type": "Finish",
                "lane_id": "1"
            }
        ],
        "prepare": [],
        "environment": {},
        "requirements": [
            "core",
            "test_workflow_package"
        ]
    }
}